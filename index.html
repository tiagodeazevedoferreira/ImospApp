<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minhas Finanças PWA</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" type="image/png" />
  <style>
    .hidden { display: none; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .active-tab { @apply bg-blue-800 text-white; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">

  <header class="bg-blue-700 text-white p-4 shadow-md">
    <h1 class="text-2xl font-bold text-center">Minhas Finanças</h1>
  </header>

  <nav class="flex overflow-x-auto bg-white shadow-md">
    <button id="resumo-btn" class="tab-button active-tab px-4 py-2 whitespace-nowrap">Resumo</button>
    <button id="semanal-btn" class="tab-button px-4 py-2 whitespace-nowrap">Por Semana</button>
    <button id="mensal-btn" class="tab-button px-4 py-2 whitespace-nowrap">Por Mês</button>
    <button id="comparativo-btn" class="tab-button px-4 py-2 whitespace-nowrap">Comparativo</button>
  </nav>

  <div id="errorMessage" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mx-4 mt-4"></div>

  <main class="p-4">

    <!-- Aba Resumo -->
    <section id="resumo" class="tab-content active">
      <div class="filtros grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-4">
        <select id="ano-resumo" class="p-2 border rounded text-sm"></select>
        <select id="mes-resumo" class="p-2 border rounded text-sm"></select>
        <select id="semana-resumo" class="p-2 border rounded text-sm"></select>
        <select id="tipo-resumo" class="p-2 border rounded text-sm"></select>
        <select id="cat-resumo" class="p-2 border rounded text-sm"></select>
        <select id="subcat-resumo" class="p-2 border rounded text-sm"></select>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
        <div class="bg-green-100 p-4 rounded shadow">
          <h3 class="font-semibold text-green-800">Total Entradas</h3>
          <p id="totalEntradas" class="text-2xl font-bold text-green-600">R$ 0,00</p>
        </div>
        <div class="bg-red-100 p-4 rounded shadow">
          <h3 class="font-semibold text-red-800">Total Saídas</h3>
          <p id="totalSaidas" class="text-2xl font-bold text-red-600">R$ 0,00</p>
        </div>
        <div class="bg-blue-100 p-4 rounded shadow">
          <h3 class="font-semibold text-blue-800">Saldo Final</h3>
          <p id="saldoFinal" class="text-2xl font-bold text-blue-600">R$ 0,00</p>
        </div>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <canvas id="graficoSaldo"></canvas>
      </div>
    </section>

    <!-- Aba Por Semana -->
    <section id="semanal" class="tab-content">
      <div class="filtros grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-4">
        <select id="ano-semanal" class="p-2 border rounded text-sm"></select>
        <select id="mes-semanal" class="p-2 border rounded text-sm"></select>
        <select id="semana-semanal" class="p-2 border rounded text-sm"></select>
        <select id="tipo-semanal" class="p-2 border rounded text-sm"></select>
        <select id="cat-semanal" class="p-2 border rounded text-sm"></select>
        <select id="subcat-semanal" class="p-2 border rounded text-sm"></select>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <canvas id="graficoSemanal"></canvas>
      </div>
    </section>

    <!-- Aba Por Mês -->
    <section id="mensal" class="tab-content">
      <div class="filtros grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-4">
        <select id="ano-mensal" class="p-2 border rounded text-sm"></select>
        <select id="mes-mensal" class="p-2 border rounded text-sm"></select>
        <select id="semana-mensal" class="p-2 border rounded text-sm"></select>
        <select id="tipo-mensal" class="p-2 border rounded text-sm"></select>
        <select id="cat-mensal" class="p-2 border rounded text-sm"></select>
        <select id="subcat-mensal" class="p-2 border rounded text-sm"></select>
      </div>
      <div class="bg-white p-4 rounded shadow overflow-x-auto">
        <table class="w-full text-sm">
          <thead id="tabelaMensalHead"></thead>
          <tbody id="tabelaMensalBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Aba Comparativo -->
    <section id="comparativo" class="tab-content">
      <div class="filtros grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 mb-4">
        <select id="ano-comparativo" class="p-2 border rounded text-sm"></select>
        <select id="mes-comparativo" class="p-2 border rounded text-sm"></select>
        <select id="semana-comparativo" class="p-2 border rounded text-sm"></select>
        <select id="tipo-comparativo" class="p-2 border rounded text-sm"></select>
        <select id="cat-comparativo" class="p-2 border rounded text-sm"></select>
        <select id="subcat-comparativo" class="p-2 border rounded text-sm"></select>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <canvas id="graficoComparativo"></canvas>
      </div>
    </section>

  </main>

  <footer class="text-center text-xs text-gray-500 p-4">
    © 2025 Minhas Finanças PWA
  </footer>

  <!-- Script -->
  <script src="script.js"></script>

</body>
</html>